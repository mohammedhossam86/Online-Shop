<%- include('parts/header') %>
<%- include('parts/navbar') %>

<div class="container mt-5 product-details-page">

    <% if (!product) { %>
        <div class="alert alert-danger text-center">
            There is no product matching this ID
        </div>
    <% } else { %>

        <div class="row g-5 align-items-center">

            <!-- Product Image -->
            <div class="col-12 col-md-6 text-center">
                <div class="product-image-wrapper shadow-sm">
                    <img 
                        src="/<%= product.image %>"
                        class="img-fluid product-details-img"
                        alt="<%= product.name %>">
                </div>

                <form action="/cart" method="POST" class="mt-4 add-to-cart-form">
                    <input type="hidden" name="name" value="<%= product.name %>">
                    <input type="hidden" name="price" value="<%= product.price %>">
                    <input type="hidden" name="productId" value="<%= product._id %>">
                    <div class="input-group mb-3 justify-content-center">
                        <span class="input-group-text">Qty</span>
                        <input 
                            type="number"
                            name="amount"
                            class="form-control text-center"
                            min="1"
                            value="1"
                            required>
                    </div>

                    <button type="submit" class="btn btn-primary px-5">
                        ðŸ›’ Add to Cart
                    </button>
                </form>
            </div>

            <!-- Product Info -->
            <div class="col-12 col-md-6">

                <h2 class="fw-bold mb-3">
                    <%= product.name %>
                </h2>

                <h4 class="text-primary mb-3">
                    $<%= product.price %>
                </h4>

                <p class="text-muted fs-5">
                    <%= product.description %>
                </p>

                <div class="product-features mt-4">
                    <span class="badge bg-success me-2">In Stock</span>
                    <span class="badge bg-info">Fast Delivery</span>
                </div>

            </div>

        </div>

    <% } %>

</div>

<%- include('parts/footer') %>
